contentMinHeight=null,document.addEventListener("DOMContentLoaded",function(){barba.init({timeout:1e4,transitions:[{name:"main-main",to:{custom:function(e){return e.current.container.querySelector("#mainNavbar")!==null&&e.next.container.querySelector("#mainNavbar")!==null}},leave(e){return gsap.to(e.current.container.querySelector(".barba-content"),{opacity:0})},afterLeave(e){gsap.from(e.next.container.querySelector(".barba-content"),{opacity:0})}},{name:"home-main",to:{custom:function(e){var t=e.current.container.querySelector("#mainNavbar")!==null,n=e.next.container.querySelector("#mainNavbar")!==null;return!(t&&n)}},leave(e){return gsap.to(e.current.container,{opacity:0})},afterLeave(e){gsap.from(e.next.container,{opacity:0})}}],views:[{namespace:"main",beforeEnter(e){e.next.container.querySelector("#mainNavbar")!==null&&(initNavAndModals(),fixFooter(e.next.container)),e.next.container.querySelector("#storyForm")!==null&&initEdit()}}]}),window.addEventListener("resize",function(){fixFooter(document)})});function initNavAndModals(){$(".navbar-burger").on("click",function(){$(".navbar-burger").toggleClass("is-active"),$(".navbar-menu").toggleClass("is-active")}),$(".closeNotification").on("click",function(){$(this).closest(".notification").hide()}),$(".closeModal, .modal-background, #confirmModal .confirmButton").on("click",function(){setTimeout(function(){$("#confirmModal .confirmButton").off("click.tmp")}),$(this).closest(".modal").removeClass("is-active")})}const animateCSS=(t,n,e="animate__")=>new Promise((i)=>{const o=`${e}${n}`,s=$(t);s.addClass(`${e}animated ${o}`);function a(t){t.stopPropagation(),s.removeClass(`${e}animated ${o}`),i("Animation ended")}s.one("animationend",a)});function modAlert(e,t){e=="success"&&($("#successModal .message-body").html(t),$("#successModal").addClass("is-active")),e=="failure"&&($("#failureModal .message-body").html(t),$("#failureModal").addClass("is-active"))}function modalConfirm(t,n,s,o){$("#confirmModal .modal-card-title").text(t),$("#confirmModal .modal-card-body").html(n);var e=$("#confirmModal .confirmButton");e.html(s),e.one("click.tmp",o),$("#confirmModal").addClass("is-active")}function fixFooter(e){let t=e.querySelector("#mainNav").offsetHeight,n=e.querySelector(".footer").offsetHeight,s=window.innerHeight-t-n;e.querySelector(".minHeightContent").style.minHeight=s.toString()+"px"}