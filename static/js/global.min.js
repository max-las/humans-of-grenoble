contentMinHeight=null,document.addEventListener("DOMContentLoaded",function(){barba.init({transitions:[{name:'main-main',to:{custom:function(a){return a.current.container.querySelector("#mainNavbar")!==null&&a.next.container.querySelector("#mainNavbar")!==null}},leave(a){return gsap.to(a.current.container.querySelector(".barba-content"),{opacity:0})},afterLeave(a){gsap.from(a.next.container.querySelector(".barba-content"),{opacity:0})}},{name:'home-main',to:{custom:function(a){var b=a.current.container.querySelector("#mainNavbar")!==null,c=a.next.container.querySelector("#mainNavbar")!==null;return!(b&&c)}},leave(a){return gsap.to(a.current.container,{opacity:0})},afterLeave(a){gsap.from(a.next.container,{opacity:0})}}],views:[{namespace:'main',beforeEnter(a){a.next.container.querySelector("#mainNavbar")!==null&&(initNavAndModals(),fixFooter(a.next.container)),a.next.container.querySelector("#storyForm")!==null&&initEdit()}}]}),window.addEventListener("resize",function(){fixFooter(document)})});function initNavAndModals(){$(".navbar-burger").on("click",function(){$(".navbar-burger").toggleClass("is-active"),$(".navbar-menu").toggleClass("is-active")}),$(".closeNotification").on("click",function(){$(this).closest(".notification").hide()}),$(".closeModal, .modal-background, #confirmModal .confirmButton").on("click",function(){setTimeout(function(){$("#confirmModal .confirmButton").off("click.tmp")}),$(this).closest(".modal").removeClass("is-active")})}const animateCSS=(b,c,a='animate__')=>new Promise((f,h)=>{const e=`${a}${c}`,d=$(b);d.addClass(`${a}animated ${e}`);function g(b){b.stopPropagation(),d.removeClass(`${a}animated ${e}`),f('Animation ended')}d.one('animationend',g)});function modAlert(a,b){a=="success"&&($("#successModal .message-body").html(b),$("#successModal").addClass("is-active")),a=="failure"&&($("#failureModal .message-body").html(b),$("#failureModal").addClass("is-active"))}function modalConfirm(b,c,d,e){$("#confirmModal .modal-card-title").text(b),$("#confirmModal .modal-card-body").html(c);var a=$("#confirmModal .confirmButton");a.html(d),a.one("click.tmp",e),$("#confirmModal").addClass("is-active")}function fixFooter(a){let b=a.querySelector("#mainNav").offsetHeight,c=a.querySelector(".footer").offsetHeight,d=window.innerHeight-b-c;a.querySelector(".minHeightContent").style.minHeight=d.toString()+"px"}